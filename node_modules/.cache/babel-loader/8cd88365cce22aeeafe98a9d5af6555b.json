{"ast":null,"code":"import _slicedToArray from\"/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import Spinner from'../spinner/Spinner';import ErrorMessage from'../errorMessage/ErrorMessage';import useMarvelService from'../../services/MarvelService';import'./randomChar.scss';import mjolnir from'../../resources/img/mjolnir.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RandomChar=function RandomChar(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),char=_useState2[0],setChar=_useState2[1];var _useMarvelService=useMarvelService(),loading=_useMarvelService.loading,error=_useMarvelService.error,getCharacter=_useMarvelService.getCharacter,clearError=_useMarvelService.clearError;useEffect(function(){updateChar();var timerId=setInterval(updateChar,60000);return function(){clearInterval(timerId);};},[]);var onCharLoaded=function onCharLoaded(char){setChar(char);};var updateChar=function updateChar(){clearError();var id=Math.floor(Math.random()*(1011400-1011000))+1011000;getCharacter(id).then(onCharLoaded);};var errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;var spinner=loading?/*#__PURE__*/_jsx(Spinner,{}):null;var content=!(loading||error||!char)?/*#__PURE__*/_jsx(View,{char:char}):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar\",children:[errorMessage,spinner,content,/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__static\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"randomchar__title\",children:[\"Random character for today!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you want to get to know him better?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__title\",children:\"Or choose another one\"}),/*#__PURE__*/_jsx(\"button\",{onClick:updateChar,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"try it\"})}),/*#__PURE__*/_jsx(\"img\",{src:mjolnir,alt:\"mjolnir\",className:\"randomchar__decoration\"})]})]});};var View=function View(_ref){var char=_ref.char;var name=char.name,description=char.description,thumbnail=char.thumbnail,homepage=char.homepage,wiki=char.wiki;var imgStyle={'objectFit':'cover'};if(thumbnail==='http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg'){imgStyle={'objectFit':'contain'};}return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__block\",children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"Random character\",className:\"randomchar__img\",style:imgStyle}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__descr\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__btns\",children:[/*#__PURE__*/_jsx(\"a\",{href:homepage,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"homepage\"})}),/*#__PURE__*/_jsx(\"a\",{href:wiki,className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]});};export default RandomChar;","map":{"version":3,"names":["useState","useEffect","Spinner","ErrorMessage","useMarvelService","mjolnir","RandomChar","char","setChar","loading","error","getCharacter","clearError","updateChar","timerId","setInterval","clearInterval","onCharLoaded","id","Math","floor","random","then","errorMessage","spinner","content","View","name","description","thumbnail","homepage","wiki","imgStyle"],"sources":["/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/src/components/randomChar/RandomChar.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport useMarvelService from '../../services/MarvelService';\n\nimport './randomChar.scss';\nimport mjolnir from '../../resources/img/mjolnir.png';\n\nconst RandomChar = () => {\n\n    const [char, setChar] = useState(null);\n    const {loading, error, getCharacter, clearError} = useMarvelService();\n\n    useEffect(() => {\n        updateChar();\n        const timerId = setInterval(updateChar, 60000);\n\n        return () => {\n            clearInterval(timerId)\n        }\n    }, [])\n\n    const onCharLoaded = (char) => {\n        setChar(char);\n    }\n\n    const updateChar = () => {\n        clearError();\n        const id = Math.floor(Math.random() * (1011400 - 1011000)) + 1011000;\n        getCharacter(id)\n            .then(onCharLoaded);\n    }\n\n    const errorMessage = error ? <ErrorMessage/> : null;\n    const spinner = loading ? <Spinner/> : null;\n    const content = !(loading || error || !char) ? <View char={char} /> : null;\n\n    return (\n        <div className=\"randomchar\">\n            {errorMessage}\n            {spinner}\n            {content}\n            <div className=\"randomchar__static\">\n                <p className=\"randomchar__title\">\n                    Random character for today!<br/>\n                    Do you want to get to know him better?\n                </p>\n                <p className=\"randomchar__title\">\n                    Or choose another one\n                </p>\n                <button onClick={updateChar} className=\"button button__main\">\n                    <div className=\"inner\">try it</div>\n                </button>\n                <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\n            </div>\n        </div>\n    )\n}\n\nconst View = ({char}) => {\n    const {name, description, thumbnail, homepage, wiki} = char;\n    let imgStyle = {'objectFit' : 'cover'};\n    if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\n        imgStyle = {'objectFit' : 'contain'};\n    }\n\n    return (\n        <div className=\"randomchar__block\">\n            <img src={thumbnail} alt=\"Random character\" className=\"randomchar__img\" style={imgStyle}/>\n            <div className=\"randomchar__info\">\n                <p className=\"randomchar__name\">{name}</p>\n                <p className=\"randomchar__descr\">\n                    {description}\n                </p>\n                <div className=\"randomchar__btns\">\n                    <a href={homepage} className=\"button button__main\">\n                        <div className=\"inner\">homepage</div>\n                    </a>\n                    <a href={wiki} className=\"button button__secondary\">\n                        <div className=\"inner\">Wiki</div>\n                    </a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default RandomChar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}