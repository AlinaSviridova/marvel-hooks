{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useHttp } from '../hooks/http.hook';\n\nconst useMarvelService = () => {\n  _s();\n\n  const {\n    loading,\n    request,\n    error,\n    clearError\n  } = useHttp();\n  const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\n  const _apiKey = 'apikey=7e218a62ee6da0dcd851c113e2e277eb'; //    const _apiKey = 'apikey=bd19ba0a0373b6d52ce8b100dfe07355';\n\n  const _baseOffset = 210;\n\n  const getAllCharacters = async function () {\n    let offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _baseOffset;\n    const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\n    return res.data.results.map(_transformCharacter);\n  };\n\n  const getCharacter = async id => {\n    const res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\n    return _transformCharacter(res.data.results[0]);\n  };\n\n  const getAllComics = async function () {\n    let offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _baseOffset;\n    const res = await request(`${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${offset}&${_apiKey}`);\n    return res.data.results.map(_transformComic);\n  };\n\n  const getComic = async id => {\n    const res = await request(`${_apiBase}comics/${id}?${_apiKey}`);\n    return _transformComics(res.data.results[0]);\n  };\n\n  const _transformCharacter = char => {\n    return {\n      name: char.name,\n      description: char.description,\n      thumbnailPath: char.thumbnail.path,\n      thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\n      homepage: char.urls[0].url,\n      wiki: char.urls[1].url,\n      id: char.id,\n      comics: char.comics.items\n    };\n  };\n\n  const _transformComics = char => {\n    return {\n      name: char.name,\n      description: char.description,\n      thumbnailPath: char.thumbnail.path,\n      thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\n      homepage: char.urls[0].url,\n      wiki: char.urls[1].url,\n      id: char.id,\n      comics: char.comics.items\n    };\n  };\n\n  return {\n    loading,\n    error,\n    clearError,\n    getAllCharacters,\n    getCharacter,\n    getAllComics,\n    getComic\n  };\n};\n\n_s(useMarvelService, \"9hyEhuOfcolEaHPbDIyQe2OeeLY=\", false, function () {\n  return [useHttp];\n});\n\nexport default useMarvelService;","map":{"version":3,"names":["useHttp","useMarvelService","loading","request","error","clearError","_apiBase","_apiKey","_baseOffset","getAllCharacters","offset","res","data","results","map","_transformCharacter","getCharacter","id","getAllComics","_transformComic","getComic","_transformComics","char","name","description","thumbnailPath","thumbnail","path","extension","homepage","urls","url","wiki","comics","items"],"sources":["/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/src/services/MarvelService.js"],"sourcesContent":["import {useHttp} from '../hooks/http.hook';\r\n\r\nconst useMarvelService = () => {\r\n\r\n    const {loading, request, error, clearError} = useHttp();\r\n\r\n   const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n   const  _apiKey = 'apikey=7e218a62ee6da0dcd851c113e2e277eb';\r\n//    const _apiKey = 'apikey=bd19ba0a0373b6d52ce8b100dfe07355';\r\n   const _baseOffset = 210;\r\n\r\n    \r\n\r\n    const getAllCharacters = async (offset = _baseOffset) => {\r\n        const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`)\r\n        return res.data.results.map(_transformCharacter)\r\n    }\r\n    const getCharacter = async (id) => {  \r\n        const res = await request(`${_apiBase}characters/${id}?${_apiKey}`)\r\n        return _transformCharacter( res.data.results[0]);\r\n    }\r\n    const getAllComics = async (offset = _baseOffset) => {\r\n        const res = await request(`${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${offset}&${_apiKey}`)\r\n        return res.data.results.map(_transformComic)\r\n    }\r\n    const getComic = async (id) => {  \r\n        const res = await request(`${_apiBase}comics/${id}?${_apiKey}`)\r\n        return _transformComics( res.data.results[0]);\r\n    }\r\n    const _transformCharacter = (char) => {\r\n        return{\r\n            name: char.name,\r\n            description: char.description,\r\n            thumbnailPath: char.thumbnail.path,\r\n            thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n            homepage: char.urls[0].url,\r\n            wiki: char.urls[1].url,\r\n            id: char.id,\r\n            comics: char.comics.items\r\n        }\r\n    }\r\n    const _transformComics = (char) => {\r\n        return{\r\n            name: char.name,\r\n            description: char.description,\r\n            thumbnailPath: char.thumbnail.path,\r\n            thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n            homepage: char.urls[0].url,\r\n            wiki: char.urls[1].url,\r\n            id: char.id,\r\n            comics: char.comics.items\r\n        }\r\n    }\r\n\r\n    return {loading, error, clearError, getAllCharacters, getCharacter, getAllComics, getComic}\r\n}\r\n\r\n\r\nexport default useMarvelService;"],"mappings":"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"},"metadata":{},"sourceType":"module"}