{"ast":null,"code":"import _slicedToArray from\"/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useParams,Link}from'react-router-dom';import{useEffect,useState}from'react';import useMarvelService from'../../services/MarvelService';import Spinner from'../spinner/Spinner';import ErrorMessage from'../errorMessage/ErrorMessage';import'./singleComic.scss';import xMen from'../../resources/img/x-men.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleComic=function SingleComic(){var _useParams=useParams(),comicId=_useParams.comicId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),comic=_useState2[0],setComic=_useState2[1];var _useMarvelService=useMarvelService(),loading=_useMarvelService.loading,error=_useMarvelService.error,getComic=_useMarvelService.getComic,clearError=_useMarvelService.clearError;useEffect(function(){updateComic();},[comicId]);var updateComic=function updateComic(){clearError();getComic(comicId).then(onComicLoaded);};var onComicLoaded=function onComicLoaded(comic){setComic(comic);};var errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;var spinner=loading?/*#__PURE__*/_jsx(Spinner,{}):null;var content=!(loading||error||!comic)?/*#__PURE__*/_jsx(View,{comic:comic}):null;return/*#__PURE__*/_jsxs(_Fragment,{children:[errorMessage,spinner,content]});};var View=function View(_ref){var comic=_ref.comic;var title=comic.title,description=comic.description,pageCount=comic.pageCount,thumbnail=comic.thumbnail,language=comic.language,price=comic.price;return/*#__PURE__*/_jsxs(\"div\",{className:\"single-comic\",children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:title,className:\"single-comic__img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-comic__info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"single-comic__name\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"single-comic__descr\",children:description}),/*#__PURE__*/_jsx(\"p\",{className:\"single-comic__descr\",children:pageCount}),/*#__PURE__*/_jsxs(\"p\",{className:\"single-comic__descr\",children:[\"Language: \",language]}),/*#__PURE__*/_jsx(\"div\",{className:\"single-comic__price\",children:price})]}),/*#__PURE__*/_jsx(Link,{to:\"/comics\",className:\"single-comic__back\",children:\"Back to all\"})]});};export default SingleComic;","map":{"version":3,"names":["useParams","Link","useEffect","useState","useMarvelService","Spinner","ErrorMessage","xMen","SingleComic","comicId","comic","setComic","loading","error","getComic","clearError","updateComic","then","onComicLoaded","errorMessage","spinner","content","View","title","description","pageCount","thumbnail","language","price"],"sources":["/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/src/components/pages/SingleComicPage.js"],"sourcesContent":["import { useParams, Link } from 'react-router-dom';\nimport {useEffect, useState} from 'react';\nimport useMarvelService from '../../services/MarvelService'\nimport Spinner from '../spinner/Spinner'\nimport ErrorMessage from '../errorMessage/ErrorMessage'\nimport './singleComic.scss';\nimport xMen from '../../resources/img/x-men.png'; \n\nconst SingleComic = () => {\n\n    const {comicId} = useParams();\n    const [comic, setComic] = useState(null);\n    const {loading, error, getComic, clearError} = useMarvelService();\n\n    useEffect (() => {\n        updateComic();\n    }, [comicId])\n  \n    const updateComic = () => {  \n            clearError();\n            getComic(comicId) \n            .then(onComicLoaded)  \n    }\n  \n    const onComicLoaded = (comic) => {  \n        setComic (comic);  \n    }\n\n      const errorMessage = error ? <ErrorMessage/> : null;\n        const spinner = loading ? <Spinner/> : null;\n        const content = !(loading || error || !comic) ? <View comic={comic}/> : null;\n        \n\n    return (\n        <>\n                {errorMessage}\n                {spinner}\n                {content}   \n        </>\n    )\n}\n\nconst View = ( {comic}) => {\n\n    const {title, description, pageCount, thumbnail, language, price} = comic;\n\n    return (\n        <div className=\"single-comic\">\n            <img src={thumbnail} alt={title} className=\"single-comic__img\"/>\n            <div className=\"single-comic__info\">\n                <h2 className=\"single-comic__name\">{title}</h2>\n                <p className=\"single-comic__descr\">{description}</p>\n                <p className=\"single-comic__descr\">{pageCount}</p>\n                <p className=\"single-comic__descr\">Language: {language}</p>\n                <div className=\"single-comic__price\">{price}</div>\n            </div>\n            <Link to=\"/comics\" className=\"single-comic__back\">Back to all</Link>\n        </div>\n    )\n}\n\nexport default SingleComic;"],"mappings":"0MAAA,OAASA,SAAT,CAAoBC,IAApB,KAAgC,kBAAhC,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,8BAA7B,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,+BAAjB,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAEtB,eAAkBR,SAAS,EAA3B,CAAOS,OAAP,YAAOA,OAAP,CACA,cAA0BN,QAAQ,CAAC,IAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,sBAA+CP,gBAAgB,EAA/D,CAAOQ,OAAP,mBAAOA,OAAP,CAAgBC,KAAhB,mBAAgBA,KAAhB,CAAuBC,QAAvB,mBAAuBA,QAAvB,CAAiCC,UAAjC,mBAAiCA,UAAjC,CAEAb,SAAS,CAAE,UAAM,CACbc,WAAW,GACd,CAFQ,CAEN,CAACP,OAAD,CAFM,CAAT,CAIA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAClBD,UAAU,GACVD,QAAQ,CAACL,OAAD,CAAR,CACCQ,IADD,CACMC,aADN,EAEP,CAJD,CAMA,GAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACR,KAAD,CAAW,CAC7BC,QAAQ,CAAED,KAAF,CAAR,CACH,CAFD,CAIE,GAAMS,CAAAA,YAAY,CAAGN,KAAK,cAAG,KAAC,YAAD,IAAH,CAAqB,IAA/C,CACE,GAAMO,CAAAA,OAAO,CAAGR,OAAO,cAAG,KAAC,OAAD,IAAH,CAAgB,IAAvC,CACA,GAAMS,CAAAA,OAAO,CAAG,EAAET,OAAO,EAAIC,KAAX,EAAoB,CAACH,KAAvB,eAAgC,KAAC,IAAD,EAAM,KAAK,CAAEA,KAAb,EAAhC,CAAwD,IAAxE,CAGJ,mBACI,2BACSS,YADT,CAESC,OAFT,CAGSC,OAHT,GADJ,CAOH,CAhCD,CAkCA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAc,IAAXZ,CAAAA,KAAW,MAAXA,KAAW,CAEvB,GAAOa,CAAAA,KAAP,CAAoEb,KAApE,CAAOa,KAAP,CAAcC,WAAd,CAAoEd,KAApE,CAAcc,WAAd,CAA2BC,SAA3B,CAAoEf,KAApE,CAA2Be,SAA3B,CAAsCC,SAAtC,CAAoEhB,KAApE,CAAsCgB,SAAtC,CAAiDC,QAAjD,CAAoEjB,KAApE,CAAiDiB,QAAjD,CAA2DC,KAA3D,CAAoElB,KAApE,CAA2DkB,KAA3D,CAEA,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,GAAG,CAAEF,SAAV,CAAqB,GAAG,CAAEH,KAA1B,CAAiC,SAAS,CAAC,mBAA3C,EADJ,cAEI,aAAK,SAAS,CAAC,oBAAf,wBACI,WAAI,SAAS,CAAC,oBAAd,UAAoCA,KAApC,EADJ,cAEI,UAAG,SAAS,CAAC,qBAAb,UAAoCC,WAApC,EAFJ,cAGI,UAAG,SAAS,CAAC,qBAAb,UAAoCC,SAApC,EAHJ,cAII,WAAG,SAAS,CAAC,qBAAb,wBAA8CE,QAA9C,GAJJ,cAKI,YAAK,SAAS,CAAC,qBAAf,UAAsCC,KAAtC,EALJ,GAFJ,cASI,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,oBAA7B,yBATJ,GADJ,CAaH,CAjBD,CAmBA,cAAepB,CAAAA,WAAf"},"metadata":{},"sourceType":"module"}