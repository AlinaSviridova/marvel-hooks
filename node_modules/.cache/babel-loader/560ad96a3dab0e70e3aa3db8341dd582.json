{"ast":null,"code":"var _jsxFileName = \"/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/src/components/pages/SinglePage.js\",\n    _s = $RefreshSig$();\n\nimport { useParams } from 'react-router-dom';\nimport { useState, useRef, useEffect } from 'react';\nimport setContent from '../../utils/setContent';\nimport useMarvelService from '../../services/MarvelService';\nimport AppBanner from '../appBanner/AppBanner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SinglePage = _ref => {\n  _s();\n\n  let {\n    Component,\n    dataType\n  } = _ref;\n  const {\n    id\n  } = useParams();\n  const [data, setData] = useState(null);\n  const {\n    loading,\n    error,\n    getComic,\n    getCharacter,\n    clearError,\n    process,\n    setProcess\n  } = useMarvelService();\n  useEffect(() => {\n    updateData();\n  }, [id]);\n\n  const updateData = () => {\n    clearError();\n\n    switch (dataType) {\n      case 'comic':\n        getComic(id).then(onDataLoaded).then(() => setProcess('confirmed'));\n        break;\n\n      case 'character':\n        getCharacter(id).then(onDataLoaded).then(() => setProcess('confirmed'));\n    }\n  };\n\n  const onDataLoaded = data => {\n    setData(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AppBanner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), setContent(process, Component, data)]\n  }, void 0, true);\n};\n\n_s(SinglePage, \"Lp85wNGz0dBWctNHwYqVVNlifbU=\", false, function () {\n  return [useParams, useMarvelService];\n});\n\n_c = SinglePage;\nexport default SinglePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SinglePage\");","map":{"version":3,"names":["useParams","useState","useRef","useEffect","setContent","useMarvelService","AppBanner","SinglePage","Component","dataType","id","data","setData","loading","error","getComic","getCharacter","clearError","process","setProcess","updateData","then","onDataLoaded"],"sources":["/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/src/components/pages/SinglePage.js"],"sourcesContent":["import { useParams } from 'react-router-dom';\nimport {useState, useRef, useEffect} from 'react';\n\nimport setContent from '../../utils/setContent';\n \nimport useMarvelService from '../../services/MarvelService'\nimport AppBanner from '../appBanner/AppBanner';\n\nconst SinglePage = ({Component, dataType}) => {\n\n    const {id} = useParams();\n    const [data, setData] = useState(null);\n    const {loading, error, getComic, getCharacter, clearError, process, setProcess} = useMarvelService();\n\n    useEffect (() => {\n        updateData()\n    }, [id])\n\n    const updateData = () => {\n        clearError();\n\n        switch (dataType) {\n            case 'comic':\n                getComic(id).then(onDataLoaded)\n                .then(() => setProcess('confirmed'));\n                break;\n            case 'character':\n                getCharacter(id).then(onDataLoaded)\n                .then(() => setProcess('confirmed'));\n        }\n    }\n\n    const onDataLoaded = (data) => {\n        setData(data);\n    }\n \n    return (\n        <>\n            <AppBanner/>\n            {setContent(process, Component, data)}\n        </>\n    )\n\n}\n\nexport default SinglePage;\n"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,kBAA1B;AACA,SAAQC,QAAR,EAAkBC,MAAlB,EAA0BC,SAA1B,QAA0C,OAA1C;AAEA,OAAOC,UAAP,MAAuB,wBAAvB;AAEA,OAAOC,gBAAP,MAA6B,8BAA7B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;;;;AAEA,MAAMC,UAAU,GAAG,QAA2B;EAAA;;EAAA,IAA1B;IAACC,SAAD;IAAYC;EAAZ,CAA0B;EAE1C,MAAM;IAACC;EAAD,IAAOV,SAAS,EAAtB;EACA,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAM;IAACY,OAAD;IAAUC,KAAV;IAAiBC,QAAjB;IAA2BC,YAA3B;IAAyCC,UAAzC;IAAqDC,OAArD;IAA8DC;EAA9D,IAA4Ed,gBAAgB,EAAlG;EAEAF,SAAS,CAAE,MAAM;IACbiB,UAAU;EACb,CAFQ,EAEN,CAACV,EAAD,CAFM,CAAT;;EAIA,MAAMU,UAAU,GAAG,MAAM;IACrBH,UAAU;;IAEV,QAAQR,QAAR;MACI,KAAK,OAAL;QACIM,QAAQ,CAACL,EAAD,CAAR,CAAaW,IAAb,CAAkBC,YAAlB,EACCD,IADD,CACM,MAAMF,UAAU,CAAC,WAAD,CADtB;QAEA;;MACJ,KAAK,WAAL;QACIH,YAAY,CAACN,EAAD,CAAZ,CAAiBW,IAAjB,CAAsBC,YAAtB,EACCD,IADD,CACM,MAAMF,UAAU,CAAC,WAAD,CADtB;IANR;EASH,CAZD;;EAcA,MAAMG,YAAY,GAAIX,IAAD,IAAU;IAC3BC,OAAO,CAACD,IAAD,CAAP;EACH,CAFD;;EAIA,oBACI;IAAA,wBACI,QAAC,SAAD;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKP,UAAU,CAACc,OAAD,EAAUV,SAAV,EAAqBG,IAArB,CAFf;EAAA,gBADJ;AAOH,CAnCD;;GAAMJ,U;UAEWP,S,EAEqEK,gB;;;KAJhFE,U;AAqCN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}