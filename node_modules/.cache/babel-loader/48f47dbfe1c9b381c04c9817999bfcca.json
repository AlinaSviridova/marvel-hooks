{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useHttp}from'../hooks/http.hook';var useMarvelService=function useMarvelService(){var _useHttp=useHttp(),loading=_useHttp.loading,request=_useHttp.request,error=_useHttp.error,clearError=_useHttp.clearError;var _apiBase='https://gateway.marvel.com:443/v1/public/';var _apiKey='apikey=7e218a62ee6da0dcd851c113e2e277eb';//    const _apiKey = 'apikey=bd19ba0a0373b6d52ce8b100dfe07355';\nvar _baseOffset=210;var getAllCharacters=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var offset,res,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:offset=_args.length>0&&_args[0]!==undefined?_args[0]:_baseOffset;_context.next=3;return request(\"\".concat(_apiBase,\"characters?limit=9&offset=\").concat(offset,\"&\").concat(_apiKey));case 3:res=_context.sent;return _context.abrupt(\"return\",res.data.results.map(_transformCharacter));case 5:case\"end\":return _context.stop();}}},_callee);}));return function getAllCharacters(){return _ref.apply(this,arguments);};}();var getCharacter=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return request(\"\".concat(_apiBase,\"characters/\").concat(id,\"?\").concat(_apiKey));case 2:res=_context2.sent;return _context2.abrupt(\"return\",_transformCharacter(res.data.results[0]));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getCharacter(_x){return _ref2.apply(this,arguments);};}();var getAllComics=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var offset,res,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:offset=_args3.length>0&&_args3[0]!==undefined?_args3[0]:_baseOffset;_context3.next=3;return request(\"\".concat(_apiBase,\"comics?orderBy=issueNumber&limit=8&offset=\").concat(offset,\"&\").concat(_apiKey));case 3:res=_context3.sent;return _context3.abrupt(\"return\",res.data.results.map(_transformComics));case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getAllComics(){return _ref3.apply(this,arguments);};}();var getComic=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return request(\"\".concat(_apiBase,\"comics/\").concat(id,\"?\").concat(_apiKey));case 2:res=_context4.sent;return _context4.abrupt(\"return\",_transformComics(res.data.results[0]));case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function getComic(_x2){return _ref4.apply(this,arguments);};}();var _transformCharacter=function _transformCharacter(char){return{name:char.name,description:char.description,thumbnailPath:char.thumbnail.path,thumbnail:char.thumbnail.path+'.'+char.thumbnail.extension,homepage:char.urls[0].url,wiki:char.urls[1].url,id:char.id,comics:char.comics.items};};var _transformComics=function _transformComics(comics){return{id:comics.id,title:comics.title,description:comics.description,thumbnailPath:comics.thumbnail.path,thumbnail:comics.thumbnail.path+'.'+comics.thumbnail.extension,pageCount:comics.pageCount?\"\".concat(comics.pageCount,\" p.\"):'No info about the number of pages',language:comics.textObjects.language||'en-us',price:comics.prices.price?\"\".concat(comics.prices.price):'not avaliable'};};return{loading:loading,error:error,clearError:clearError,getAllCharacters:getAllCharacters,getCharacter:getCharacter,getAllComics:getAllComics,getComic:getComic};};export default useMarvelService;","map":{"version":3,"names":["useHttp","useMarvelService","loading","request","error","clearError","_apiBase","_apiKey","_baseOffset","getAllCharacters","offset","res","data","results","map","_transformCharacter","getCharacter","id","getAllComics","_transformComics","getComic","char","name","description","thumbnailPath","thumbnail","path","extension","homepage","urls","url","wiki","comics","items","title","pageCount","language","textObjects","price","prices"],"sources":["/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/src/services/MarvelService.js"],"sourcesContent":["import {useHttp} from '../hooks/http.hook';\r\n\r\nconst useMarvelService = () => {\r\n\r\n    const {loading, request, error, clearError} = useHttp();\r\n\r\n   const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n   const  _apiKey = 'apikey=7e218a62ee6da0dcd851c113e2e277eb';\r\n//    const _apiKey = 'apikey=bd19ba0a0373b6d52ce8b100dfe07355';\r\n   const _baseOffset = 210;\r\n\r\n    \r\n\r\n    const getAllCharacters = async (offset = _baseOffset) => {\r\n        const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`)\r\n        return res.data.results.map(_transformCharacter)\r\n    }\r\n    const getCharacter = async (id) => {  \r\n        const res = await request(`${_apiBase}characters/${id}?${_apiKey}`)\r\n        return _transformCharacter( res.data.results[0]);\r\n    }\r\n    const getAllComics = async (offset = _baseOffset) => {\r\n        const res = await request(`${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${offset}&${_apiKey}`)\r\n        return res.data.results.map(_transformComics)\r\n    }\r\n    const getComic = async (id) => {  \r\n        const res = await request(`${_apiBase}comics/${id}?${_apiKey}`)\r\n        return _transformComics( res.data.results[0]);\r\n    }\r\n    const _transformCharacter = (char) => {\r\n        return{\r\n            name: char.name,\r\n            description: char.description,\r\n            thumbnailPath: char.thumbnail.path,\r\n            thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n            homepage: char.urls[0].url,\r\n            wiki: char.urls[1].url,\r\n            id: char.id,\r\n            comics: char.comics.items\r\n        }\r\n    }\r\n    const _transformComics = (comics) => {\r\n        return{\r\n            id: comics.id,\r\n            title: comics.title,\r\n            description: comics.description,\r\n            thumbnailPath: comics.thumbnail.path,\r\n            thumbnail: comics.thumbnail.path + '.' + comics.thumbnail.extension,\r\n            pageCount: comics.pageCount ? `${comics.pageCount} p.` : 'No info about the number of pages',\r\n            language: comics.textObjects.language || 'en-us',\r\n            price: comics.prices.price ? `${comics.prices.price}` : 'not avaliable'\r\n        }\r\n    }\r\n\r\n    return {loading, error, clearError, getAllCharacters, getCharacter, getAllComics, getComic}\r\n}\r\n\r\n\r\nexport default useMarvelService;"],"mappings":"iZAAA,OAAQA,OAAR,KAAsB,oBAAtB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAE3B,aAA8CD,OAAO,EAArD,CAAOE,OAAP,UAAOA,OAAP,CAAgBC,OAAhB,UAAgBA,OAAhB,CAAyBC,KAAzB,UAAyBA,KAAzB,CAAgCC,UAAhC,UAAgCA,UAAhC,CAED,GAAMC,CAAAA,QAAQ,CAAG,2CAAjB,CACA,GAAOC,CAAAA,OAAO,CAAG,yCAAjB,CACH;AACG,GAAMC,CAAAA,WAAW,CAAG,GAApB,CAIC,GAAMC,CAAAA,gBAAgB,0FAAG,kKAAOC,MAAP,+CAAgBF,WAAhB,uBACHL,CAAAA,OAAO,WAAIG,QAAJ,sCAAyCI,MAAzC,aAAmDH,OAAnD,EADJ,QACfI,GADe,+CAEdA,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiBC,GAAjB,CAAqBC,mBAArB,CAFc,wDAAH,kBAAhBN,CAAAA,gBAAgB,0CAAtB,CAIA,GAAMO,CAAAA,YAAY,2FAAG,kBAAOC,EAAP,qJACCd,CAAAA,OAAO,WAAIG,QAAJ,uBAA0BW,EAA1B,aAAgCV,OAAhC,EADR,QACXI,GADW,iDAEVI,mBAAmB,CAAEJ,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiB,CAAjB,CAAF,CAFT,0DAAH,kBAAZG,CAAAA,YAAY,6CAAlB,CAIA,GAAME,CAAAA,YAAY,2FAAG,wKAAOR,MAAP,kDAAgBF,WAAhB,wBACCL,CAAAA,OAAO,WAAIG,QAAJ,sDAAyDI,MAAzD,aAAmEH,OAAnE,EADR,QACXI,GADW,iDAEVA,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiBC,GAAjB,CAAqBK,gBAArB,CAFU,0DAAH,kBAAZD,CAAAA,YAAY,2CAAlB,CAIA,GAAME,CAAAA,QAAQ,2FAAG,kBAAOH,EAAP,qJACKd,CAAAA,OAAO,WAAIG,QAAJ,mBAAsBW,EAAtB,aAA4BV,OAA5B,EADZ,QACPI,GADO,iDAENQ,gBAAgB,CAAER,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiB,CAAjB,CAAF,CAFV,0DAAH,kBAARO,CAAAA,QAAQ,8CAAd,CAIA,GAAML,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACM,IAAD,CAAU,CAClC,MAAM,CACFC,IAAI,CAAED,IAAI,CAACC,IADT,CAEFC,WAAW,CAAEF,IAAI,CAACE,WAFhB,CAGFC,aAAa,CAAEH,IAAI,CAACI,SAAL,CAAeC,IAH5B,CAIFD,SAAS,CAAEJ,IAAI,CAACI,SAAL,CAAeC,IAAf,CAAsB,GAAtB,CAA4BL,IAAI,CAACI,SAAL,CAAeE,SAJpD,CAKFC,QAAQ,CAAEP,IAAI,CAACQ,IAAL,CAAU,CAAV,EAAaC,GALrB,CAMFC,IAAI,CAAEV,IAAI,CAACQ,IAAL,CAAU,CAAV,EAAaC,GANjB,CAOFb,EAAE,CAAEI,IAAI,CAACJ,EAPP,CAQFe,MAAM,CAAEX,IAAI,CAACW,MAAL,CAAYC,KARlB,CAAN,CAUH,CAXD,CAYA,GAAMd,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACa,MAAD,CAAY,CACjC,MAAM,CACFf,EAAE,CAAEe,MAAM,CAACf,EADT,CAEFiB,KAAK,CAAEF,MAAM,CAACE,KAFZ,CAGFX,WAAW,CAAES,MAAM,CAACT,WAHlB,CAIFC,aAAa,CAAEQ,MAAM,CAACP,SAAP,CAAiBC,IAJ9B,CAKFD,SAAS,CAAEO,MAAM,CAACP,SAAP,CAAiBC,IAAjB,CAAwB,GAAxB,CAA8BM,MAAM,CAACP,SAAP,CAAiBE,SALxD,CAMFQ,SAAS,CAAEH,MAAM,CAACG,SAAP,WAAsBH,MAAM,CAACG,SAA7B,QAA8C,mCANvD,CAOFC,QAAQ,CAAEJ,MAAM,CAACK,WAAP,CAAmBD,QAAnB,EAA+B,OAPvC,CAQFE,KAAK,CAAEN,MAAM,CAACO,MAAP,CAAcD,KAAd,WAAyBN,MAAM,CAACO,MAAP,CAAcD,KAAvC,EAAiD,eARtD,CAAN,CAUH,CAXD,CAaA,MAAO,CAACpC,OAAO,CAAPA,OAAD,CAAUE,KAAK,CAALA,KAAV,CAAiBC,UAAU,CAAVA,UAAjB,CAA6BI,gBAAgB,CAAhBA,gBAA7B,CAA+CO,YAAY,CAAZA,YAA/C,CAA6DE,YAAY,CAAZA,YAA7D,CAA2EE,QAAQ,CAARA,QAA3E,CAAP,CACH,CArDD,CAwDA,cAAenB,CAAAA,gBAAf"},"metadata":{},"sourceType":"module"}