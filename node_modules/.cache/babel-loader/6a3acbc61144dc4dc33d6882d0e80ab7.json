{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useHttp } from '../hooks/http.hook';\n\nconst useMarvelService = () => {\n  _s();\n\n  const {\n    loading,\n    request,\n    error,\n    clearError\n  } = useHttp();\n  const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\n  const _apiKey = 'apikey=7e218a62ee6da0dcd851c113e2e277eb'; //    const _apiKey = 'apikey=bd19ba0a0373b6d52ce8b100dfe07355';\n\n  const _baseOffset = 210;\n\n  const getAllCharacters = async function () {\n    let offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _baseOffset;\n    const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\n    return res.data.results.map(_transformCharacter);\n  };\n\n  const getCharacterByName = async name => {\n    const res = await request(`${_apiBase}characters?name=${name}&${name}&${_apiKey}`);\n    return res.data.results.map(_transformCharacter);\n  };\n\n  const getCharacter = async id => {\n    const res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\n    return _transformCharacter(res.data.results[0]);\n  };\n\n  const getAllComics = async function () {\n    let offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _baseOffset;\n    const res = await request(`${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${offset}&${_apiKey}`);\n    return res.data.results.map(_transformComics);\n  };\n\n  const getComic = async id => {\n    const res = await request(`${_apiBase}comics/${id}?${_apiKey}`);\n    return _transformComics(res.data.results[0]);\n  };\n\n  const _transformCharacter = char => {\n    return {\n      name: char.name,\n      description: char.description,\n      thumbnailPath: char.thumbnail.path,\n      thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\n      homepage: char.urls[0].url,\n      wiki: char.urls[1].url,\n      id: char.id,\n      comics: char.comics.items\n    };\n  };\n\n  const _transformComics = comics => {\n    return {\n      id: comics.id,\n      title: comics.title,\n      description: comics.description,\n      thumbnailPath: comics.thumbnail.path,\n      thumbnail: comics.thumbnail.path + '.' + comics.thumbnail.extension,\n      pageCount: comics.pageCount ? `${comics.pageCount} p.` : 'No info about the number of pages',\n      language: comics.textObjects.language || 'en-us',\n      price: comics.prices.price ? `${comics.prices.price}` : 'not avaliable'\n    };\n  };\n\n  return {\n    loading,\n    error,\n    clearError,\n    getAllCharacters,\n    getCharacter,\n    getAllComics,\n    getComic,\n    getCharacterByName\n  };\n};\n\n_s(useMarvelService, \"9hyEhuOfcolEaHPbDIyQe2OeeLY=\", false, function () {\n  return [useHttp];\n});\n\nexport default useMarvelService;","map":{"version":3,"names":["useHttp","useMarvelService","loading","request","error","clearError","_apiBase","_apiKey","_baseOffset","getAllCharacters","offset","res","data","results","map","_transformCharacter","getCharacterByName","name","getCharacter","id","getAllComics","_transformComics","getComic","char","description","thumbnailPath","thumbnail","path","extension","homepage","urls","url","wiki","comics","items","title","pageCount","language","textObjects","price","prices"],"sources":["/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/src/services/MarvelService.js"],"sourcesContent":["import {useHttp} from '../hooks/http.hook';\r\n\r\nconst useMarvelService = () => {\r\n\r\n    const {loading, request, error, clearError} = useHttp();\r\n\r\n   const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n   const  _apiKey = 'apikey=7e218a62ee6da0dcd851c113e2e277eb';\r\n//    const _apiKey = 'apikey=bd19ba0a0373b6d52ce8b100dfe07355';\r\n   const _baseOffset = 210;\r\n\r\n    \r\n\r\n    const getAllCharacters = async (offset = _baseOffset) => {\r\n        const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`)\r\n        return res.data.results.map(_transformCharacter)\r\n    }\r\n\r\n    const getCharacterByName = async (name) => {\r\n        const res = await request(`${_apiBase}characters?name=${name}&${name}&${_apiKey}`);\r\n        return res.data.results.map(_transformCharacter)\r\n    }\r\n\r\n    const getCharacter = async (id) => {  \r\n        const res = await request(`${_apiBase}characters/${id}?${_apiKey}`)\r\n        return _transformCharacter( res.data.results[0]);\r\n    }\r\n    const getAllComics = async (offset = _baseOffset) => {\r\n        const res = await request(`${_apiBase}comics?orderBy=issueNumber&limit=8&offset=${offset}&${_apiKey}`)\r\n        return res.data.results.map(_transformComics)\r\n    }\r\n    const getComic = async (id) => {  \r\n        const res = await request(`${_apiBase}comics/${id}?${_apiKey}`)\r\n        return _transformComics( res.data.results[0]);\r\n    }\r\n    const _transformCharacter = (char) => {\r\n        return{\r\n            name: char.name,\r\n            description: char.description,\r\n            thumbnailPath: char.thumbnail.path,\r\n            thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n            homepage: char.urls[0].url,\r\n            wiki: char.urls[1].url,\r\n            id: char.id,\r\n            comics: char.comics.items\r\n        }\r\n    }\r\n    const _transformComics = (comics) => {\r\n        return{\r\n            id: comics.id,\r\n            title: comics.title,\r\n            description: comics.description,\r\n            thumbnailPath: comics.thumbnail.path,\r\n            thumbnail: comics.thumbnail.path + '.' + comics.thumbnail.extension,\r\n            pageCount: comics.pageCount ? `${comics.pageCount} p.` : 'No info about the number of pages',\r\n            language: comics.textObjects.language || 'en-us',\r\n            price: comics.prices.price ? `${comics.prices.price}` : 'not avaliable'\r\n        }\r\n    }\r\n\r\n    return {loading, error, clearError, getAllCharacters, getCharacter, getAllComics, getComic, getCharacterByName}\r\n}\r\n\r\n\r\nexport default useMarvelService;"],"mappings":"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"},"metadata":{},"sourceType":"module"}