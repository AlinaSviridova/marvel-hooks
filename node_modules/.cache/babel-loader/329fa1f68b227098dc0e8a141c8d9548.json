{"ast":null,"code":"import _slicedToArray from\"/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import'./charInfo.scss';import useMarvelService from'../../services/MarvelService';import Spinner from'../spinner/Spinner';import ErrorMessage from'../errorMessage/ErrorMessage';import Skeleton from'../skeleton/Skeleton';import thor from'../../resources/img/thor.jpeg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CharInfo=function CharInfo(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),char=_useState2[0],setChar=_useState2[1];var _useMarvelService=useMarvelService(),loading=_useMarvelService.loading,error=_useMarvelService.error,getCharacter=_useMarvelService.getCharacter,clearError=_useMarvelService.clearError;useEffect(function(){updateChar();},[props.charId]);var updateChar=function updateChar(){var charId=props.charId;if(!charId){return;}clearError();getCharacter(charId).then(onCharLoaded);};var onCharLoaded=function onCharLoaded(char){setChar(char);};var skeleton=char||loading||error?null:/*#__PURE__*/_jsx(Skeleton,{});var errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;var spinner=loading?/*#__PURE__*/_jsx(Spinner,{}):null;var content=!(loading||error||!char)?/*#__PURE__*/_jsx(View,{char:char}):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"char__info\",children:[skeleton,errorMessage,spinner,content]});};var View=function View(_ref){var char=_ref.char;var name=char.name,description=char.description,thumbnail=char.thumbnail,thumbnailPath=char.thumbnailPath,homepage=char.homepage,wiki=char.wiki,comics=char.comics;var comicsSlice=comics.slice(0,10);var comicsList=comicsSlice.length>0?/*#__PURE__*/_jsx(ComicsList,{comics:comicsSlice}):'There is no comics here';var tempImg=thumbnailPath.substring(thumbnailPath.lastIndexOf('/')+1)==='image_not_available';var containStyle=tempImg?'contain':'';return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"char__basics\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"\".concat(containStyle),src:thumbnail,alt:name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"char__info-name\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"char__btns\",children:[/*#__PURE__*/_jsx(\"a\",{href:homepage,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Homepage\"})}),/*#__PURE__*/_jsx(\"a\",{href:wiki,className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"char__descr\",children:description}),comicsList]});};var ComicsList=function ComicsList(_ref2){var comics=_ref2.comics;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"char__comics\",children:\"Comics:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"char__comics-list\",children:comics.map(function(item,i){return/*#__PURE__*/_jsx(\"li\",{className:\"char__comics-item\",children:item.name},i);})})]});};export default CharInfo;","map":{"version":3,"names":["useState","useEffect","useMarvelService","Spinner","ErrorMessage","Skeleton","thor","CharInfo","props","char","setChar","loading","error","getCharacter","clearError","updateChar","charId","then","onCharLoaded","skeleton","errorMessage","spinner","content","View","name","description","thumbnail","thumbnailPath","homepage","wiki","comics","comicsSlice","slice","comicsList","length","tempImg","substring","lastIndexOf","containStyle","ComicsList","map","item","i"],"sources":["/Users/alinasvyrydova/Downloads/Development/Course1/Files/marvel-hooks/marvel-hooks/src/components/charInfo/CharInfo.js"],"sourcesContent":["import {useState, useEffect} from'react';\nimport {PropTypes} from 'prop-types';\nimport './charInfo.scss';\nimport useMarvelService from '../../services/MarvelService'\nimport Spinner from '../spinner/Spinner'\nimport ErrorMessage from '../errorMessage/ErrorMessage'\nimport Skeleton from '../skeleton/Skeleton' \nimport thor from '../../resources/img/thor.jpeg';\n\nconst CharInfo = (props) => {\n \n    const [char, setChar] = useState (null);\n \n    const {loading, error, getCharacter, clearError} = useMarvelService();\n\n    useEffect (() => {\n        updateChar();\n    }, [props.charId])\n  \n    const updateChar = () => {  \n        const {charId} = props; \n        if (!charId) {\n            return;\n        } \n            clearError();\n            getCharacter(charId) \n            .then(onCharLoaded)  \n    }\n  \n    const onCharLoaded = (char) => {  \n        setChar (char);  \n    }\n  \n        const skeleton = char || loading || error ? null : <Skeleton/>\n        const errorMessage = error ? <ErrorMessage/> : null;\n        const spinner = loading ? <Spinner/> : null;\n        const content = !(loading || error || !char) ? <View char={char}/> : null;\n        \n        return (\n            <div className=\"char__info\">\n                {skeleton}\n                {errorMessage}\n                {spinner}\n                {content}\n            </div>\n            \n        ) \n}\n\n\nconst View = ({char}) => {\n    const { name, description, thumbnail, thumbnailPath, homepage, wiki, comics } = char;\n    const comicsSlice = comics.slice(0,10); \n    const comicsList = comicsSlice.length > 0 ? <ComicsList comics={comicsSlice}/> : 'There is no comics here';\n    let tempImg = thumbnailPath.substring(thumbnailPath.lastIndexOf('/') + 1) === 'image_not_available'\n    let containStyle = tempImg ? 'contain' : '';\n    return(\n        <>\n             <div className=\"char__basics\"> \n                    <img className={`${containStyle}`} src={thumbnail} alt={name}/>\n                    <div>\n                        <div className=\"char__info-name\">{name}</div>\n                        <div className=\"char__btns\">\n                            <a href={homepage} className=\"button button__main\">\n                                <div className=\"inner\">Homepage</div>\n                            </a>\n                            <a href={wiki} className=\"button button__secondary\">\n                                <div className=\"inner\">Wiki</div>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"char__descr\">\n                {description}</div>\n                {comicsList}\n        </>\n    )\n}\n\n\nconst ComicsList = ({comics}) => {\n\n\n        return(\n            <>\n            <div className=\"char__comics\">Comics:</div>\n                <ul className=\"char__comics-list\">\n                    { \n                        comics.map((item, i) => {\n                            return(\n                               <li key={i} className=\"char__comics-item\">\n                                    {item.name}\n                                </li> \n                            )\n                              \n                        })\n                    } \n                </ul>\n            </>\n        )\n}\n\n\nCharInfo.propTypes = {\n    charId: PropTypes.number\n}\n\n\nexport default CharInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module"}